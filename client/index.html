<html>
<head>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css">
</head>
<body>    
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>

	<form id="uploadForm"
	enctype="multipart/form-data"
	action="/api/function_file"
	method="post">
	<input type="file" name="function_file" />
	<input type="submit" value="Upload JS file" name="submit">
	<span id = "status"></span>
</form>
</div>

<script>
$(document).ready(function() {
	$('#uploadForm').submit(function() {
		$("#status").empty().text("File is uploading...");

		$(this).ajaxSubmit({

			error: function(xhr) {
				status('Error: ' + xhr.status);
			},

			success: function(response) {
				console.log(response)

				if (response.isSuccess()) 
					// Show info to user and call server with gathered file
			}
		});

		return false;
	});    
});
</script>
</body>
</html>